<div class="scaffolder scaffolder--{{options.layout}} scaffolder--{{options.theme}}"  layout="column" layout-align="start start">
  <div class="scaffolder__header"></div>
  <div class="scaffolder__container" flex>
    <aside ng-show="scaffolder.hasMenu()" class="scaffolder__container__menu">
      <ul class="nav nav-pills" ng-class="{ 'nav-stacked': options.layout === 'menu' }">
        <li ng-repeat="url in options.urls track by $index"
            ng-class="menuLinkClasses($index)"
            class="scaffolder__container__menu__item">
          <a ng-click="scaffolder.activate($index)">
            {{scaffolder.label($index, "Iframe " + ($index+1))}}
          </a>
        </li>
      </ul>
      <h4 class="scaffolder__container__title">{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).label }}</h4>
    </aside>
    <iframe frameborder="0"
            class="scaffolder__container__iframe"
            width="{{iframeWidth($index, $first, $last)}}"
            height="{{iframeHeight($index, $first, $last)}}"
            ng-class="{'scaffolder__container__iframe--last': $last, 'scaffolder__container__iframe--first': $first}"
            ng-src="{{scaffolder.url($index)}}"
            ng-show="scaffolder.isVisible($index)"
            ng-repeat="url in options.urls track by $index"></iframe>
  </div>
  <div class="scaffolder__footer">
    Built with <a href="//pirhoo.github.io/iframe-scaffolder/" target="_blank">Iframe Scaffolder</a>
    <div class="scaffolder__footer__sharing-toggler" ng-show="options.sharing && scaffolder.hasMenu() && scaffolder.urls.length">
      <button class="btn btn-xs btn-default" ng-click="toggleSharingPopup()">
        <i class="fa fa-fw fa-share"></i>
        Share this view
      </button>
    </div>
  </div>
  <div class="scaffolder__sharing-popup ng-hide" ng-show="shouldDisplaySharingPopup">
    <div class="scaffolder__sharing-popup__overlay" ng-click="toggleSharingPopup()"></div>
    <div class="scaffolder__sharing-popup__panel panel panel-default" ng-show="shouldDisplaySharingPopup">
      <button class="scaffolder__sharing-popup__panel__close" ng-click="toggleSharingPopup()">
        <span aria-hidden="true">Ã—</span>
      </button>
      <div class="panel-body">
        <h3>Share</h3>
        <p>
          Share this view on social networks by clicking here:
        </p>
        <p>
          <a socialshare
             socialshare-text="{{ scaffolder.getActive( 'Iframe ' + ($index + 1) ).label }}"
             socialshare-url="{{ sharingUrl }}"
             socialshare-provider="twitter"
             class="btn btn-default scaffolder__sharing-popup__panel__twitter">
            <i class="fa fa-fw fa-twitter"></i>
            Twitter
          </a>
          <a socialshare
             socialshare-text="{{ scaffolder.getActive().label }}"
             socialshare-url="{{ sharingUrl }}"
             socialshare-provider="facebook"
             socialshare-type="feed"
             socialshare-to=""
             socialshare-from=""
             socialshare-ref=""
             socialshare-display="popup"
             socialshare-via="%%FACEBOOK_APP_ID%%"
             socialshare-redirect-uri="https://pirhoo.github.io/iframe-scaffolder/close.html"
             class="btn btn-default scaffolder__sharing-popup__panel__facebook">
            <i class="fa fa-fw fa-facebook"></i>
            Facebook
          </a>
        </p>
        <h3>Embed</h3>
        <p>Please use the following embed code to share this view in your publications:</p>
        <textarea class="form-control" select-on-click readonly>{{ getViewIframe() }}</textarea>
        <h3>Link</h3>
        <p>This link will jump directly to this view:</p>
        <input class="form-control form-link" select-on-click readonly value="{{ scaffolder.viewUrl() }}" />
      </div>
    </div>
  </div>
</div>
